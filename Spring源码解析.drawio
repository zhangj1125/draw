<mxfile host="app.diagrams.net" modified="2022-03-28T07:54:08.150Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36" etag="tjqIVp24_D6JbqNdRnWH" version="17.2.4" type="github">
  <diagram id="Km3hOTP_TFFmn3upVToj" name="Page-1">
    <mxGraphModel dx="2692" dy="540" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="On-2ADN7kd9dpEOP8VJU-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="On-2ADN7kd9dpEOP8VJU-2" target="On-2ADN7kd9dpEOP8VJU-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-2" value="AbstractApplicationContext#refresh" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-906" y="540" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="On-2ADN7kd9dpEOP8VJU-5" target="On-2ADN7kd9dpEOP8VJU-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="On-2ADN7kd9dpEOP8VJU-5" target="On-2ADN7kd9dpEOP8VJU-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-5" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;prepareRefresh()&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-516" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-6" value="创建和准备Environment 对象" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-280" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="On-2ADN7kd9dpEOP8VJU-9" target="On-2ADN7kd9dpEOP8VJU-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-286" y="575" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="On-2ADN7kd9dpEOP8VJU-9" target="On-2ADN7kd9dpEOP8VJU-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-9" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;obtainFreshBeanFactory()&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-534.25" y="540" width="156.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="On-2ADN7kd9dpEOP8VJU-11" target="On-2ADN7kd9dpEOP8VJU-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-280" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="On-2ADN7kd9dpEOP8VJU-11" target="On-2ADN7kd9dpEOP8VJU-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-11" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;prepareBeanFactory()&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-521" y="680" width="131" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zLjrZ5fAoaI-PD5PPh4M-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-12" target="zLjrZ5fAoaI-PD5PPh4M-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-12" value="进一步完善 BeanFactory，为它的各项成员变量赋值" style="rounded=0;whiteSpace=wrap;html=1;labelBorderColor=none;" parent="1" vertex="1">
          <mxGeometry x="-280" y="680" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-13" value="这一步获取(或创建) BeanFactory，它也是作为 ApplicationContext的一个成员变量" style="rounded=0;whiteSpace=wrap;html=1;labelBorderColor=none;" parent="1" vertex="1">
          <mxGeometry x="-280" y="545" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="On-2ADN7kd9dpEOP8VJU-14" target="On-2ADN7kd9dpEOP8VJU-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-14" target="On-2ADN7kd9dpEOP8VJU-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-14" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;postProcessBeanFactory()&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-536.5" y="820" width="161" height="90" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-17" value="&lt;span style=&quot;color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;这一步是空实现，留给子类扩展。&lt;/font&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-275" y="835" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-19" target="On-2ADN7kd9dpEOP8VJU-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-19" target="On-2ADN7kd9dpEOP8VJU-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-19" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;invokeBeanFactoryPostProcessors&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1000" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-21" target="On-2ADN7kd9dpEOP8VJU-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-21" value="&lt;font style=&quot;font-size: 12px&quot;&gt;调用 beanFactory 后处理器，&lt;span style=&quot;color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;beanFactory 后处理器，充当 beanFactory 的扩展点，可以用来补充或修改 BeanDefinition&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-219" y="980" width="219.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-23" target="On-2ADN7kd9dpEOP8VJU-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-23" target="On-2ADN7kd9dpEOP8VJU-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-23" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;registerBeanPostProcessors&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1140" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-25" target="On-2ADN7kd9dpEOP8VJU-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-25" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;color: rgb(34 , 34 , 34) ; font-family: , , ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;继续从 beanFactory 中找出 bean 后处理器，添加至 beanPostProcessors 集合中&lt;/span&gt;&lt;span style=&quot;color: rgb(34 , 34 , 34) ; font-family: , , ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;bean 后处理器，充当 bean 的扩展点，可以工作在 bean 的实例化、依赖注入、初始化阶段。&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-219" y="1130" width="259.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-27" target="On-2ADN7kd9dpEOP8VJU-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-27" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;initMessageSource&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1280" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-29" target="On-2ADN7kd9dpEOP8VJU-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=11;" parent="1" source="On-2ADN7kd9dpEOP8VJU-29" target="On-2ADN7kd9dpEOP8VJU-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-29" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;initApplicationEventMulticaster&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1420" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-31" value="&lt;span style=&quot;color: rgb(34, 34, 34); font-size: 11px; letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;这一步为 ApplicationContext 添加事件广播器成员，&lt;/span&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-size: 11px; letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255);&quot;&gt;发布事件给监听器&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="-219.5" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=11;" parent="1" source="On-2ADN7kd9dpEOP8VJU-33" target="On-2ADN7kd9dpEOP8VJU-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=11;" parent="1" source="On-2ADN7kd9dpEOP8VJU-33" target="On-2ADN7kd9dpEOP8VJU-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-33" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;onRefresh&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1560" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-39" value="这一步是空实现，留给子类扩展，子类在这里准备了 WebServer，即内嵌 web 容器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-219.5" y="1560" width="179.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=11;" parent="1" source="On-2ADN7kd9dpEOP8VJU-41" target="On-2ADN7kd9dpEOP8VJU-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-41" target="On-2ADN7kd9dpEOP8VJU-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-41" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;span style=&quot;color: rgb(34 , 34 , 34) ; font-family: , , ; font-size: 14px ; letter-spacing: 0.544px ; text-align: justify&quot;&gt;registerListeners&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1700" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-43" value="&lt;span style=&quot;color: rgb(34 , 34 , 34) ; font-family: , , ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;这一步会从多种途径找到事件监听器，并添加至 applicationEventMulticaster&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;p style=&quot;margin: 0px auto ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; width: 649.912px ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;* 事件监听器顾名思义，用来接收事件广播器发布的事件，有如下来源&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;br style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; width: 649.912px ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;* 事先编程添加的&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;br style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; width: 649.912px ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;* 来自容器中的 bean&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;br style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; width: 649.912px ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;* 来自于 @EventListener 的解析&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;br style=&quot;margin: 0px ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; overflow-wrap: break-word&quot;&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto ; padding: 0px ; outline: 0px ; max-width: 100% ; box-sizing: border-box ; clear: both ; min-height: 1em ; color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255) ; vertical-align: inherit ; width: 649.912px ; overflow-wrap: break-word&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;* 要实现事件监听器，只需要实现 ApplicationListener 接口，重写其中 onApplicationEvent(E e) 方法即可&lt;/font&gt;&lt;/p&gt;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-210" y="1690" width="689.5" height="200" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-49" target="On-2ADN7kd9dpEOP8VJU-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-49" target="On-2ADN7kd9dpEOP8VJU-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-49" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;finishBeanFactoryInitialization&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="1910" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="On-2ADN7kd9dpEOP8VJU-51" target="YV_hM9fHcB-Gt_fJDpqy-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-51" value="&lt;span style=&quot;color: rgb(34 , 34 , 34) ; font-size: 12px ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;这一步会将 beanFactory 的成员补充完毕，并初始化所有非延迟单例 bean&lt;br&gt;&lt;/span&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;DefaultListableBeanFactory#preInstantiateSingletons&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-219.5" y="1910" width="359.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;" parent="1" source="On-2ADN7kd9dpEOP8VJU-53" target="On-2ADN7kd9dpEOP8VJU-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-53" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;span style=&quot;color: rgb(34 , 34 , 34) ; font-family: , , ; font-size: 14px ; letter-spacing: 0.544px ; text-align: justify&quot;&gt;finishRefresh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-564.25" y="2050" width="216.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-55" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;color: rgb(34 , 34 , 34) ; letter-spacing: 0.544px ; text-align: justify ; background-color: rgb(255 , 255 , 255)&quot;&gt;这一步会为 ApplicationContext 添加 lifecycleProcessor 成员，用来控制容器内需要生命周期管理的 bean.&lt;/span&gt;&lt;span style=&quot;color: rgb(64 , 64 , 64) ; background-color: rgb(255 , 255 , 255)&quot;&gt;finishRefresh();方法是最后一步，广播事件，ApplicationContext 初始化完成。&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-219" y="2050" width="299" height="60" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-57" value="三級緩存&lt;br&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font face=&quot;consolas&quot;&gt;&lt;span style=&quot;font-size: 11.2px&quot;&gt;DefaultSingletonBeanRegistry#singletonObjects&lt;/span&gt;&lt;span style=&quot;font-size: 8.4pt&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font face=&quot;consolas&quot;&gt;&lt;span style=&quot;font-size: 11.2px&quot;&gt;DefaultSingletonBeanRegistry#earlySingletonObjects&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font face=&quot;consolas&quot;&gt;&lt;span style=&quot;font-size: 11.2px&quot;&gt;DefaultSingletonBeanRegistry#singletonFactories&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="730" y="1460" width="370" height="130" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;fontColor=#CC0000;" parent="1" source="On-2ADN7kd9dpEOP8VJU-58" target="On-2ADN7kd9dpEOP8VJU-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-58" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;BeanFactoryPostProcessor接口是针对bean容器的，它的实现类可以在当前BeanFactory初始化（spring容器加载bean定义文件）后，&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#cc0000&quot;&gt;bean实例化之前&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;修改bean的定义属性，达到影响之后实例化bean的效果。&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="975" width="239.75" height="110" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=12;fontColor=#CC0000;" parent="1" source="On-2ADN7kd9dpEOP8VJU-60" target="On-2ADN7kd9dpEOP8VJU-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zLjrZ5fAoaI-PD5PPh4M-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="On-2ADN7kd9dpEOP8VJU-60" target="zLjrZ5fAoaI-PD5PPh4M-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="239.875" y="1290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-60" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;BeanPostProcessor能在spring容器&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#cc0000&quot;&gt;实例化bean之后&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;，在执行bean的初始化方法前后，添加一些自己的处理逻辑。&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="1135" width="199.75" height="70" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-62" value="常见BeanFactory后置处理器&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;p style=&quot;margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; clear: both; min-height: 1em; color: rgb(34, 34, 34); letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; width: 649.912px; font-size: 12px; overflow-wrap: break-word;&quot;&gt;* ConfigurationClassPostProcessor – 解析 @Configuration、@Bean、@Import、@PropertySource 等&lt;/p&gt;&lt;p style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; color: rgb(34, 34, 34); font-size: 12px; letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; box-sizing: border-box; overflow-wrap: break-word;&quot;&gt;&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; overflow-wrap: break-word; font-size: 12px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; clear: both; min-height: 1em; color: rgb(34, 34, 34); letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; width: 649.912px; font-size: 12px; overflow-wrap: break-word;&quot;&gt;* PropertySourcesPlaceHolderConfigurer – 替换 BeanDefinition 中的 ${ }&lt;/p&gt;&lt;p style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; color: rgb(34, 34, 34); font-size: 12px; letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; box-sizing: border-box; overflow-wrap: break-word;&quot;&gt;&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; overflow-wrap: break-word; font-size: 12px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; clear: both; min-height: 1em; color: rgb(34, 34, 34); letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; width: 649.912px; font-size: 12px; overflow-wrap: break-word;&quot;&gt;* MapperScannerConfigurer – 补充 Mapper 接口对应的 BeanDefinition&lt;/p&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="580" y="951.25" width="670" height="158.75" as="geometry" />
        </mxCell>
        <mxCell id="On-2ADN7kd9dpEOP8VJU-64" value="&lt;p style=&quot;margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; clear: both; min-height: 1em; color: rgb(34, 34, 34); letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; width: 649.912px; font-size: 12px; overflow-wrap: break-word;&quot;&gt;* AutowiredAnnotationBeanPostProcessor 功能有：解析 @Autowired，@Value 注解&lt;/p&gt;&lt;p style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; color: rgb(34, 34, 34); font-size: 12px; letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; box-sizing: border-box; overflow-wrap: break-word;&quot;&gt;&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; overflow-wrap: break-word; font-size: 12px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; clear: both; min-height: 1em; color: rgb(34, 34, 34); letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; width: 649.912px; font-size: 12px; overflow-wrap: break-word;&quot;&gt;* CommonAnnotationBeanPostProcessor 功能有：解析 @Resource，@PostConstruct，@PreDestroy&lt;/p&gt;&lt;p style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; color: rgb(34, 34, 34); font-size: 12px; letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; box-sizing: border-box; overflow-wrap: break-word;&quot;&gt;&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; overflow-wrap: break-word; font-size: 12px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box; clear: both; min-height: 1em; color: rgb(34, 34, 34); letter-spacing: 0.544px; text-align: justify; background-color: rgb(255, 255, 255); vertical-align: inherit; width: 649.912px; font-size: 12px; overflow-wrap: break-word;&quot;&gt;* AnnotationAwareAspectJAutoProxyCreator 功能有：为符合切点的目标 bean 自动创建代理&lt;/p&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="571" y="1200" width="679" height="90" as="geometry" />
        </mxCell>
        <mxCell id="zLjrZ5fAoaI-PD5PPh4M-3" value="BeanPostProcessor" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="14.879999999999999" y="1300" width="450" height="100" as="geometry" />
        </mxCell>
        <mxCell id="zLjrZ5fAoaI-PD5PPh4M-5" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontSize=12;" parent="zLjrZ5fAoaI-PD5PPh4M-3" vertex="1">
          <mxGeometry y="26" width="450" height="8" as="geometry" />
        </mxCell>
        <mxCell id="zLjrZ5fAoaI-PD5PPh4M-6" value="+ postProcessBeforeInitialization(Object bean, String beanName): Object&#xa;+ postProcessAfterInitialization(Object bean, String beanName): Object&#xa;&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="zLjrZ5fAoaI-PD5PPh4M-3" vertex="1">
          <mxGeometry y="34" width="450" height="66" as="geometry" />
        </mxCell>
        <mxCell id="zLjrZ5fAoaI-PD5PPh4M-11" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;new ApplicationContextAwareProcessor()&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;实现了BeanPostProcessor&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font face=&quot;consolas&quot;&gt;&lt;span style=&quot;font-size: 11.2px&quot;&gt;通过 ApplicationContextAwareProcessor#postProcessBeforeInitialization&lt;/span&gt;&lt;span style=&quot;font-size: 8.4pt&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font face=&quot;consolas&quot;&gt;&lt;span style=&quot;font-size: 11.2px&quot;&gt;实现&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=0;labelBorderColor=none;" parent="1" vertex="1">
          <mxGeometry x="-30" y="665" width="470" height="90" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="YV_hM9fHcB-Gt_fJDpqy-1" target="YV_hM9fHcB-Gt_fJDpqy-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-1" value="循环调用getBean(beanName)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="230" y="1920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="YV_hM9fHcB-Gt_fJDpqy-3" target="YV_hM9fHcB-Gt_fJDpqy-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-3" value="AbstractBeanFactory#doGetBean" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="1920" width="220.25" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="YV_hM9fHcB-Gt_fJDpqy-5" target="YV_hM9fHcB-Gt_fJDpqy-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="YV_hM9fHcB-Gt_fJDpqy-5" target="YV_hM9fHcB-Gt_fJDpqy-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-5" value="&lt;font style=&quot;font-size: 12px&quot;&gt;AbstractAutowireCapableBeanFactory#createBean&lt;br&gt;AbstractAutowireCapableBeanFactory#doCreateBean&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="750.38" y="1920" width="329.62" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-7" value="DefaultSingletonBeanRegistry#getSingleton(java.lang.String, boolean)" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1210" y="2010" width="380.19" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="YV_hM9fHcB-Gt_fJDpqy-9" target="YV_hM9fHcB-Gt_fJDpqy-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-9" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;AbstractAutowireCapableBeanFactory#initializeBean&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.4pt&quot;&gt;invokeInitMethods 执行afterPropertiesSet&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1280" y="1820" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YV_hM9fHcB-Gt_fJDpqy-11" value="invokeInitMethods&lt;br&gt;1、判断该bean是否实现了实现了InitializingBean接口&lt;br&gt;2、判断是否指定了initMethod方法，如果指定了，则再调用指定的initMethod方法" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1750" y="1815" width="295" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
